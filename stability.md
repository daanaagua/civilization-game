# 稳定度系统设计

## 1. 稳定度系统概述

### 1.1 设计理念
稳定度系统是游戏的核心平衡机制，通过模拟社会稳定性来控制部落的发展速度和规模。系统强调现实性和策略性，让玩家在追求发展的同时必须考虑社会稳定，避免盲目扩张导致的崩溃。本系统经过简化优化，确保机制简便可靠。

### 1.2 核心机制
- **稳定度数值**：0-100的数值表示社会稳定程度，稳定度会缓慢变化直至达到目标数值
- **影响因素**：政体发展、资源状况、人口规模三大核心因素，以及人物、事件、宝物等其他因素
- **等级效果**：不同稳定度等级产生不同的游戏效果
- **管理策略**：玩家通过政体升级、资源管理和人口控制来维持稳定

### 1.3 系统作用
- **发展引导**：鼓励玩家循序渐进地发展文明
- **策略深度**：增加游戏的策略选择和管理复杂度
- **现实模拟**：模拟真实社会的稳定性挑战
- **危机应对**：提供紧张刺激的危机管理体验



## 2. 稳定度计算公式

### 2.1 基础计算公式
```
稳定度 = 基础稳定度 + 正面因素加成 - 负面因素减成 - 腐败度
```

### 2.2 详细计算系统

#### 基础稳定度
```
基础稳定度 = 50 + 政治制度加成 + 文化发展加成
政治制度加成：
- 部落组织：+5（酋长）
- 君主制：+15（国王）
- 分封制：+5（额外加成）
- 集权制：+5（额外加成）

```

#### 人口规模影响
```
软性上限 = 基础容量 × 科技加成
基础容量 = 10（初始值）
科技加成 = 1 + (解锁科技数量 × 0.1)

人口超限惩罚：
- 人口 > 软性上限 × 1.2：稳定度 -15
- 人口 > 软性上限 × 1.5：稳定度 -20
- 人口 > 软性上限 × 2.0：稳定度 -25
- 人口 > 软性上限 × 2.5：稳定度 -30
- 人口 > 软性上限 × 3.0：稳定度 -40
```

#### 资源充足度影响
```
资源充足度 = (当前储备 / 消耗需求) × 100
稳定度影响：
- 充足度 > 150%：+8稳定度
- 充足度 100-150%：+4稳定度
- 充足度 80-100%：0稳定度
- 充足度 50-80%：-12稳定度
- 充足度 < 50%：-30稳定度（资源枯竭）
```

#### 军事安全影响
```
军事安全度 = (军队战斗力 / 威胁评估) × 100
稳定度影响：
- 安全度 > 200%：+8稳定度
- 安全度 150-200%：+5稳定度
- 安全度 100-150%：+2稳定度
- 安全度 80-100%：0稳定度
- 安全度 50-80%：-8稳定度
- 安全度 < 50%：-20稳定度
```

## 3. 影响因素详表

### 3.1 正面影响因素

#### 政体发展因素
| 因素 | 稳定度加成 | 解锁条件 | 持续条件 |
|------|------------|----------|----------|
| 部落组织 | +5 | 部落组织科技 | 永久 |
| 君主制 | +15 | 君主制科技 | 永久 |
| 分封制 | +5 | 分封制科技 | 永久 |
| 集权制 | +5 | 集权制科技 | 永久 |

### 3.2 负面影响因素

#### 资源短缺因素
| 因素 | 稳定度减成 | 触发条件 | 持续影响 |
|------|------------|----------|----------|
| 食物短缺 | -20 | 食物<需求80% | 持续存在 |
| 工具缺乏 | -8 | 工具<工人需求 | 持续存在 |
| 燃料不足 | -6 | 燃料<需求50% | 持续存在 |



## 4. 稳定度等级效果

### 4.1 等级划分

#### 极度稳定（90-100）
**效果加成：**
- 人口增长率：正常（100%）
- 生产效率：+30%
- 科技研发速度：+25%
- 贸易收益：+40%
- 建筑建造速度：+20%
- 军队士气：+20%

#### 高度稳定（75-89）
**效果加成：**
- 人口增长率：正常（100%）
- 生产效率：+15%
- 科技研发速度：+10%
- 贸易收益：+20%
- 建筑建造速度：+10%
- 军队士气：+10%

#### 基本稳定（60-74）
**效果加成：**
- 人口增长率：正常（100%）
- 生产效率：+5%

#### 轻度不稳（45-59）
**效果减成：**
- 人口增长率：-25%
- 生产效率：-10%
- 科技研发速度：-15%
- 贸易收益：-20%
- 军队士气：-10%

#### 中度不稳（30-44）
**效果减成：**
- 人口增长率：-50%
- 生产效率：-25%
- 科技研发速度：-30%
- 贸易收益：-40%
- 建筑建造速度：-20%
- 军队士气：-25%

#### 严重不稳（15-29）
**效果减成：**
- 人口增长率：-75%
- 生产效率：-40%
- 科技研发速度：-50%
- 贸易收益：-60%
- 建筑建造速度：-30%
- 军队士气：-40%

#### 崩溃（0-14）
**效果减成：**
- 人口增长率：-100%
- 生产效率：-60%
- 科技研发速度：-80%
- 贸易收益：-80%
- 建筑建造速度：-50%
- 军队士气：-60%



*本文档详细描述了游戏中的稳定度系统和人口增长机制，包括概述、计算公式、影响因素和等级效果。*

## 5. 显示与职责划分（效果系统 vs 侧边栏）

- 一致性：效果系统中的“稳定度”数值应与侧边栏显示的稳定度保持一致（即当前稳定度的缓慢趋近值），用于判定等级效果与给出国家性加成/减成说明（例如人口增长率、生产效率、科研速度等）。
- 侧边栏职责：在“稳定度详情”中展示该稳定度的组成因素与目标值计算依据，包括：
  - 基础稳定度（基准50）与政体/文化加成
  - 资源充足度影响
  - 人口规模的软上限与超限惩罚
  - 腐败度扣减
  - 人物、科技、建筑与事件/临时效果（例如沙尘暴 -5）等影响项
- 变化机制：当前稳定度不会被事件瞬时直接扣加；事件的稳定度影响以“临时效果标签”登记并参与目标稳定度计算，当前稳定度按时间逐步向目标值缓慢靠拢。
- 效果系统用途：效果系统负责根据“当前稳定度”给出国家层面的效果说明；侧边栏负责向玩家解释“为什么当前稳定度是这个值”（影响因素的拆解与可视化）。